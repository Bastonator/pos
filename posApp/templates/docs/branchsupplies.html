{% extends "posApp/base.html" %}
{% load static %}
{% load humanize %} {% block pageContent %}
{% if branch %}
{% if supplier %}
{% if stock %}

<style>
    .tbody{
        font-size: 20px;
    }
    /*
Theme Name: Invoice V1
Theme URI: https://templatesjungle.com/
Author: TemplatesJungle
Author URI: https://templatesjungle.com/
Description: Invoice V1 is specially designed product packaged for Invoice.
Version: 1.1
*/

/*--------------------------------------------------------------
Styles
--------------------------------------------------------------*/

/* Fonts */
:root {
  --body-font: 'Poppins', sans-serif;
}

/* Bootstrap Override */
body {
  --bs-font-sans-serif: 'Poppins', sans-serif;
  --bs-body-font-family: var(--bs-font-sans-serif);
  --bs-body-font-size: 1rem;
  --bs-body-font-weight: 400;
  --bs-body-line-height: 2;
  --bs-body-color: #41403E;
  --bs-primary: #0070E4;
  --bs-primary-rgb: 0, 112, 228;
  --bs-border-color: #eeeeee;
}
@media print {
        body * {
            block: none;
        }
        #stock, #stock * {
            display: block;
        }
        #stock-head, #stock-head *{
            display: flex;
        }
        #stock-body, #stock-body *{
            display: flex;
        }
        script * {
            display: none;
        }
        #invoice, #invoice *{
            dsplay: block;
            margin-top: -10px;
        }
        button *{
            block: none;
        }
        #table, #table *{
            width: 320%;
            margin-left: 0%;
        }
        #print, #print *{
            display: none;
        }
        #invoice, #invoice *{
            width: 100%;
        }
    }
</style>

    <section id="section" style="width: 960%; background-color: white;">
        <button onclick="window.print()" id="print"> Print invoice
        </button>
        <br>
        <div class="container" id="invoice">
            <div class="text-center">
                <img src="images/logo_dark.png" alt="">
                <h1>
                    {{ branch.name }}
                </h1>
            </div>
            <div class="text-center border-top border-bottom my-5 py-3">
                <p style="color: coral;" class="m-0"><strong>Wriber Invoicing Service V1</strong></p>
                <p class="m-0">Invoice No: {{ stock.code }}</p>
                <p class="m-0">Invoice Date: <strong>{{ stock.date_added |date:'Y/m/d'}}</strong></p>
                <p class="m-0">Due Date: <strong>{{ stock.due_date |date:'Y/m/d'}}</strong></p>
            </div>

            <div class="d-md-flex justify-content-between">
                <div>
                    <p class="text-primary">Invoice To</p>
                    <h4></h4>
                    <ul class="list-unstyled">
                        <li>{{ stock.suppliers }}</li>
                        <li>{{ stock.suppliers.email }} Phone: {{ stock.suppliers.phone }}</li>
                        <li>{{ stock.suppliers.address }}</li>
                    </ul>
                </div>
                <div class="mt-5 mt-md-0">
                    <p class="text-primary">Invoice From</p>
                    <h4>{{ stock.user }}</h4>
                    <ul class="list-unstyled">
                        <li>{{ branch.name }}</li>
                        <li>Phone: {{ branch.phone }}</li>
                        <li>{{ branch.address }}</li>
                    </ul>
                </div>
            </div>

            <table class="table border my-5 table-bordered" id="table">
                <thead>
                    <tr class="bg-primary-subtle">
                        <th scope="col">No.</th>
                        <th scope="col">Description</th>
                        <th scope="col">Price</th>
                        <th scope="col">Quantity</th>
                        <th scope="col">Total</th>
                    </tr>
                </thead>
                <tbody>
                {% for items in supplied_items %}
                    <tr>
                        <th scope="row">{{ items.id }}</th>
                        <td>{{ items.product_id.name }}</td>
                        <td>{{ items.product_id.price }}</td>
                        <td>{{ items.qty }}</td>
                        <td>{{ items.total }}</td>
                    </tr>
                {% endfor %}
                    <tr>
                        <th></th>
                        <td></td>
                        <td></td>
                        <td class="">Sub-Total</td>
                        <td>GMD{{ customer_sales.grand_total }}</td>
                    </tr>
                    <tr>
                        <th></th>
                        <td></td>
                        <td></td>
                        <td class="">TAX {{ customer_sales.tax }}</td>
                        <td>GMD{{ customer_sales.tax_amount }}</td>
                    </tr>
                    <tr>
                        <th></th>
                        <td></td>
                        <td></td>
                        <td class="text-success fw-bold">Grand-Total</td>
                        <td class="text-success fw-bold">GMD{{ grand_total }}</td>
                    </tr>
                </tbody>
            </table>

            <div class="d-md-flex justify-content-between my-5">
                <div>
                    <h5 class="fw-bold my-4">Contact Us</h5>
                    <ul class="list-unstyled">
                        <li><iconify-icon class="social-icon text-primary fs-5 me-2" icon="mdi:location"
                                style="vertical-align:text-bottom"></iconify-icon> {{ branch.address }}</li>
                        <li><iconify-icon class="social-icon text-primary fs-5 me-2" icon="solar:phone-bold"
                                style="vertical-align:text-bottom"></iconify-icon> (+220) {{ branch.phone }}</li>
                    </ul>
                </div>
                <div>
                    <h5 class="fw-bold my-4">Payment Info</h5>
                    <ul class="list-unstyled">
                        <!--<li><span class="fw-semibold">Account No: </span> 102 3345 56938</li>
                        <li><span class="fw-semibold">Account Name: </span> William Peter</li>-->
                        <li><span class="fw-semibold">Branch Name: </span> {{ branch.name }} </li>

                    </ul>
                </div>
            </div>

            <div id="footer-bottom">
                <div class="container border-top">
                    <div class="row mt-3">
                        <div class="col-md-6 copyright">

                            <p>Â© 2024 Invoice, by Wriber. <a href="#" target="_blank"
                                    class="text-decoration-none text-black-50">Terms & Conditions apply</a> </p>
                        </div>
                        <div class="col-md-6 text-md-end">

                            <strong>
                                <p>Invoice composed using<strong style="color: coral;"> Wriber</strong> services </p>
                            </strong>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>
{% endif %}
{% endif %}
{% endif %}

{% endblock pageContent %}
{% block ScriptBlock %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>

{% endblock ScriptBlock %}

